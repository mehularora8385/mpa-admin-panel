<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Exam Dashboard - Standalone</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background: #f0f2f5; }
        
        /* LOGIN PAGE */
        .login-container { display: flex; justify-content: center; align-items: center; min-height: 100vh; background: linear-gradient(135deg, #0d7377 0%, #14919b 100%); }
        .login-box { background: white; padding: 40px; border-radius: 12px; box-shadow: 0 10px 40px rgba(0,0,0,0.3); width: 100%; max-width: 400px; }
        .login-box h1 { color: #0d7377; margin-bottom: 10px; font-size: 28px; font-weight: bold; }
        .login-box p { color: #666; margin-bottom: 30px; font-size: 14px; }
        .form-group { margin-bottom: 20px; }
        .form-group label { display: block; margin-bottom: 8px; color: #333; font-weight: 600; }
        .form-group input { width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; }
        .form-group input:focus { outline: none; border-color: #0d7377; box-shadow: 0 0 0 3px rgba(13, 115, 119, 0.1); }
        .btn-login { width: 100%; padding: 12px; background: #0d7377; color: white; border: none; border-radius: 6px; font-weight: bold; cursor: pointer; font-size: 16px; transition: 0.3s; }
        .btn-login:hover { background: #0a5a66; }
        .error-msg { color: #e74c3c; margin-bottom: 20px; padding: 12px; background: #f8d7da; border-radius: 6px; display: none; border-left: 4px solid #e74c3c; }
        .success-msg { color: #27ae60; margin-bottom: 20px; padding: 12px; background: #d4edda; border-radius: 6px; display: none; border-left: 4px solid #27ae60; }
        .demo-credentials { margin-top: 30px; padding-top: 20px; border-top: 1px solid #eee; }
        .demo-credentials h3 { color: #333; font-size: 12px; margin-bottom: 10px; }
        .demo-cred { font-size: 12px; color: #666; margin: 5px 0; font-family: monospace; background: #f5f5f5; padding: 5px; border-radius: 3px; }
        
        /* DASHBOARD PAGE */
        .dashboard-container { display: flex; height: 100vh; }
        .dashboard-sidebar { width: 250px; background: linear-gradient(135deg, #0d7377 0%, #14919b 100%); color: white; padding: 20px 0; overflow-y: auto; }
        .dashboard-sidebar-title { padding: 15px 20px; font-weight: bold; font-size: 14px; opacity: 0.8; }
        .dashboard-sidebar-item { padding: 15px 20px; cursor: pointer; border-left: 4px solid transparent; font-weight: 500; transition: 0.3s; }
        .dashboard-sidebar-item:hover { background: rgba(0,0,0,0.2); }
        .dashboard-sidebar-item.active { background: rgba(0,0,0,0.2); border-left-color: #ffd700; }
        .dashboard-main { flex: 1; display: flex; flex-direction: column; }
        .dashboard-header { background: linear-gradient(135deg, #0d7377 0%, #14919b 100%); padding: 15px 30px; color: white; display: flex; justify-content: space-between; align-items: center; }
        .dashboard-header h1 { font-size: 22px; }
        .dashboard-header-controls { display: flex; gap: 15px; align-items: center; }
        .sync-status { padding: 8px 16px; background: #27ae60; color: white; border-radius: 4px; font-size: 12px; font-weight: bold; }
        .sync-status.syncing { background: #f39c12; }
        .session-timer { padding: 8px 16px; background: #3498db; color: white; border-radius: 4px; font-size: 12px; font-weight: bold; }
        .btn-logout { padding: 8px 16px; background: #e74c3c; color: white; border: none; border-radius: 4px; cursor: pointer; font-weight: bold; transition: 0.3s; }
        .btn-logout:hover { background: #c0392b; }
        .dashboard-content { flex: 1; overflow-y: auto; padding: 25px; }
        .tab-content { display: none; }
        .tab-content.active { display: block; }
        
        /* STATS */
        .stats-row { display: grid; grid-template-columns: repeat(4, 1fr); gap: 15px; margin-bottom: 25px; }
        .stat-card { background: white; padding: 20px; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); border-top: 4px solid #0d7377; }
        .stat-number { font-size: 36px; font-weight: bold; color: #0d7377; }
        .stat-label { color: #666; margin-top: 8px; font-size: 13px; }
        
        /* TABLES */
        .table-section { background: white; padding: 20px; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); margin-bottom: 20px; }
        .table-section h2 { color: #0d7377; margin-bottom: 15px; font-size: 18px; }
        table { width: 100%; border-collapse: collapse; }
        th { background: #f5f5f5; padding: 12px; text-align: left; font-weight: 600; color: #333; border-bottom: 2px solid #ddd; }
        td { padding: 12px; border-bottom: 1px solid #eee; }
        tr:hover { background: #f9f9f9; }
        .badge { display: inline-block; padding: 4px 8px; border-radius: 3px; font-size: 12px; font-weight: bold; }
        .badge-success { background: #d4edda; color: #155724; }
        .badge-warning { background: #fff3cd; color: #856404; }
        .badge-danger { background: #f8d7da; color: #721c24; }
    </style>
</head>
<body>
    <!-- LOGIN PAGE -->
    <div id="loginPage" class="login-container">
        <div class="login-box">
            <h1>üìä Exam Dashboard</h1>
            <p>Enter your credentials to access the dashboard</p>
            
            <div id="errorMsg" class="error-msg"></div>
            <div id="successMsg" class="success-msg"></div>
            
            <form onsubmit="event.preventDefault(); handleLogin();">
                <div class="form-group">
                    <label for="username">Username</label>
                    <input type="text" id="username" placeholder="e.g., exam_a_user" required>
                </div>
                <div class="form-group">
                    <label for="password">Password</label>
                    <input type="password" id="password" placeholder="e.g., exam_a_pass" required>
                </div>
                <button type="submit" class="btn-login">Login</button>
            </form>
            
            <div class="demo-credentials">
                <h3>üìù Demo Credentials:</h3>
                <div class="demo-cred">exam_a_user / exam_a_pass</div>
                <div class="demo-cred">exam_b_user / exam_b_pass</div>
                <div class="demo-cred">mock_1_user / mock_1_pass</div>
            </div>
        </div>
    </div>

    <!-- DASHBOARD PAGE -->
    <div id="dashboardPage" class="dashboard-container" style="display: none;">
        <!-- SIDEBAR -->
        <div class="dashboard-sidebar">
            <div class="dashboard-sidebar-title">üìã MENU</div>
            <div class="dashboard-sidebar-item active" onclick="switchTab('overview')">Overview</div>
            <div class="dashboard-sidebar-item" onclick="switchTab('operators')">Operators</div>
            <div class="dashboard-sidebar-item" onclick="switchTab('candidates')">Candidates</div>
            <div class="dashboard-sidebar-item" onclick="switchTab('centres')">Centres</div>
            <div class="dashboard-sidebar-item" onclick="switchTab('reports')">Reports</div>
        </div>

        <!-- MAIN CONTENT -->
        <div class="dashboard-main">
            <!-- HEADER -->
            <div class="dashboard-header">
                <div>
                    <h1 id="examTitle">Exam Dashboard</h1>
                </div>
                <div class="dashboard-header-controls">
                    <div class="sync-status" id="syncStatus">‚úÖ Synced</div>
                    <div class="session-timer" id="sessionTimer">Session: 5:00</div>
                    <button class="btn-logout" onclick="handleLogout()">Logout</button>
                </div>
            </div>

            <!-- CONTENT -->
            <div class="dashboard-content">
                <!-- OVERVIEW TAB -->
                <div id="overview" class="tab-content active">
                    <h2 style="color: #0d7377; margin-bottom: 20px;">Dashboard Overview</h2>
                    
                    <div class="stats-row">
                        <div class="stat-card">
                            <div class="stat-number" id="totalOperators">0</div>
                            <div class="stat-label">Total Operators</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-number" id="totalCandidates">0</div>
                            <div class="stat-label">Total Candidates</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-number" id="totalCentres">0</div>
                            <div class="stat-label">Total Centres</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-number" id="attendanceRate">0%</div>
                            <div class="stat-label">Attendance Rate</div>
                        </div>
                    </div>

                    <div class="table-section">
                        <h2>Recent Activity</h2>
                        <table>
                            <thead>
                                <tr>
                                    <th>Timestamp</th>
                                    <th>Event</th>
                                    <th>Status</th>
                                </tr>
                            </thead>
                            <tbody id="activityTable">
                                <tr>
                                    <td>2024-01-02 16:30</td>
                                    <td>Dashboard accessed</td>
                                    <td><span class="badge badge-success">Success</span></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- OPERATORS TAB -->
                <div id="operators" class="tab-content">
                    <h2 style="color: #0d7377; margin-bottom: 20px;">Operators Management</h2>
                    <div class="table-section">
                        <table>
                            <thead>
                                <tr>
                                    <th>ID</th>
                                    <th>Name</th>
                                    <th>Email</th>
                                    <th>Status</th>
                                </tr>
                            </thead>
                            <tbody id="operatorsTable">
                                <tr>
                                    <td>1</td>
                                    <td>John Operator</td>
                                    <td>john@exam.com</td>
                                    <td><span class="badge badge-success">Active</span></td>
                                </tr>
                                <tr>
                                    <td>2</td>
                                    <td>Jane Operator</td>
                                    <td>jane@exam.com</td>
                                    <td><span class="badge badge-success">Active</span></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- CANDIDATES TAB -->
                <div id="candidates" class="tab-content">
                    <h2 style="color: #0d7377; margin-bottom: 20px;">Candidates Management</h2>
                    <div class="table-section">
                        <table>
                            <thead>
                                <tr>
                                    <th>Roll No</th>
                                    <th>Name</th>
                                    <th>Centre</th>
                                    <th>Status</th>
                                </tr>
                            </thead>
                            <tbody id="candidatesTable">
                                <tr>
                                    <td>001</td>
                                    <td>Candidate A</td>
                                    <td>Centre 1</td>
                                    <td><span class="badge badge-success">Present</span></td>
                                </tr>
                                <tr>
                                    <td>002</td>
                                    <td>Candidate B</td>
                                    <td>Centre 1</td>
                                    <td><span class="badge badge-warning">Absent</span></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- CENTRES TAB -->
                <div id="centres" class="tab-content">
                    <h2 style="color: #0d7377; margin-bottom: 20px;">Centres Management</h2>
                    <div class="table-section">
                        <table>
                            <thead>
                                <tr>
                                    <th>Code</th>
                                    <th>Name</th>
                                    <th>Location</th>
                                    <th>Capacity</th>
                                </tr>
                            </thead>
                            <tbody id="centresTable">
                                <tr>
                                    <td>C001</td>
                                    <td>Centre 1</td>
                                    <td>Mumbai</td>
                                    <td>100</td>
                                </tr>
                                <tr>
                                    <td>C002</td>
                                    <td>Centre 2</td>
                                    <td>Delhi</td>
                                    <td>150</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- REPORTS TAB -->
                <div id="reports" class="tab-content">
                    <h2 style="color: #0d7377; margin-bottom: 20px;">Reports</h2>
                    <div class="table-section">
                        <h3>Exam Statistics</h3>
                        <p style="margin: 15px 0; color: #666;">
                            <strong>Total Candidates:</strong> <span id="reportTotalCandidates">0</span><br>
                            <strong>Present:</strong> <span id="reportPresent">0</span><br>
                            <strong>Absent:</strong> <span id="reportAbsent">0</span><br>
                            <strong>Verified:</strong> <span id="reportVerified">0</span>
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Constants
        const SESSION_DURATION = 5 * 60; // 5 minutes
        const VALID_CREDENTIALS = {
            'exam_a_user': { password: 'exam_a_pass', examId: 1, examName: 'Exam A' },
            'exam_b_user': { password: 'exam_b_pass', examId: 2, examName: 'Exam B' },
            'mock_1_user': { password: 'mock_1_pass', examId: 3, examName: 'Mock Exam 1' }
        };

        // State
        let currentExamId = null;
        let currentExamName = null;
        let remainingTime = SESSION_DURATION;
        let sessionTimerInterval = null;

        // Login Handler
        function handleLogin() {
            const username = document.getElementById('username').value.trim();
            const password = document.getElementById('password').value.trim();
            const errorMsg = document.getElementById('errorMsg');
            const successMsg = document.getElementById('successMsg');

            errorMsg.style.display = 'none';
            successMsg.style.display = 'none';

            if (!username || !password) {
                errorMsg.textContent = '‚ùå Please enter username and password';
                errorMsg.style.display = 'block';
                return;
            }

            // Validate credentials
            const cred = VALID_CREDENTIALS[username];
            if (!cred || cred.password !== password) {
                errorMsg.textContent = '‚ùå Invalid credentials';
                errorMsg.style.display = 'block';
                return;
            }

            // Success
            currentExamId = cred.examId;
            currentExamName = cred.examName;
            remainingTime = SESSION_DURATION;

            successMsg.textContent = '‚úÖ Login successful! Loading dashboard...';
            successMsg.style.display = 'block';

            setTimeout(() => {
                showDashboard();
                loadDashboardData();
                startSessionTimer();
            }, 500);
        }

        // Show Dashboard
        function showDashboard() {
            document.getElementById('loginPage').style.display = 'none';
            document.getElementById('dashboardPage').style.display = 'flex';
            document.getElementById('examTitle').textContent = `${currentExamName} - Dashboard`;
        }

        // Load Dashboard Data
        function loadDashboardData() {
            // Mock data based on exam
            const mockData = {
                1: { operators: 5, candidates: 150, centres: 3, attendance: 92 },
                2: { operators: 4, candidates: 120, centres: 2, attendance: 88 },
                3: { operators: 3, candidates: 100, centres: 2, attendance: 95 }
            };

            const data = mockData[currentExamId];
            document.getElementById('totalOperators').textContent = data.operators;
            document.getElementById('totalCandidates').textContent = data.candidates;
            document.getElementById('totalCentres').textContent = data.centres;
            document.getElementById('attendanceRate').textContent = data.attendance + '%';

            document.getElementById('reportTotalCandidates').textContent = data.candidates;
            document.getElementById('reportPresent').textContent = Math.round(data.candidates * data.attendance / 100);
            document.getElementById('reportAbsent').textContent = Math.round(data.candidates * (100 - data.attendance) / 100);
            document.getElementById('reportVerified').textContent = Math.round(data.candidates * 0.85);
        }

        // Session Timer
        function startSessionTimer() {
            sessionTimerInterval = setInterval(() => {
                remainingTime--;
                const minutes = Math.floor(remainingTime / 60);
                const seconds = remainingTime % 60;
                document.getElementById('sessionTimer').textContent = `Session: ${minutes}:${seconds.toString().padStart(2, '0')}`;

                if (remainingTime <= 0) {
                    clearInterval(sessionTimerInterval);
                    alert('Session expired! Please login again.');
                    handleLogout();
                }
            }, 1000);
        }

        // Switch Tab
        function switchTab(tabName) {
            // Hide all tabs
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.classList.remove('active');
            });
            document.querySelectorAll('.dashboard-sidebar-item').forEach(item => {
                item.classList.remove('active');
            });

            // Show selected tab
            document.getElementById(tabName).classList.add('active');
            event.target.classList.add('active');
        }

        // Logout Handler
        function handleLogout() {
            if (confirm('Are you sure you want to logout?')) {
                clearInterval(sessionTimerInterval);
                currentExamId = null;
                currentExamName = null;
                remainingTime = SESSION_DURATION;
                
                document.getElementById('dashboardPage').style.display = 'none';
                document.getElementById('loginPage').style.display = 'flex';
                document.getElementById('username').value = '';
                document.getElementById('password').value = '';
                document.getElementById('errorMsg').style.display = 'none';
                document.getElementById('successMsg').style.display = 'none';
            }
        }
    </script>
</body>
</html>
